const _0x2b9cff=_0x1b64;(function(_0x384ac0,_0x351382){const _0x3de297=_0x1b64,_0x5a0720=_0x384ac0();while(!![]){try{const _0x500d2=-parseInt(_0x3de297(0xef))/0x1+parseInt(_0x3de297(0x134))/0x2*(parseInt(_0x3de297(0xf7))/0x3)+parseInt(_0x3de297(0xf8))/0x4*(-parseInt(_0x3de297(0xfa))/0x5)+parseInt(_0x3de297(0x11a))/0x6+-parseInt(_0x3de297(0x11e))/0x7+parseInt(_0x3de297(0x123))/0x8*(parseInt(_0x3de297(0xde))/0x9)+parseInt(_0x3de297(0x101))/0xa;if(_0x500d2===_0x351382)break;else _0x5a0720['push'](_0x5a0720['shift']());}catch(_0x356b14){_0x5a0720['push'](_0x5a0720['shift']());}}}(_0x1080,0x9e717));const _0x57bac4=(function(){let _0x5330f5=!![];return function(_0x4f2c04,_0x130bc0){const _0x4efc8b=_0x5330f5?function(){const _0x2fd02c=_0x1b64;if('sXSzq'==='WXyIF'){_0x3555f7=_0x24bc8b[_0x2fd02c(0xfc)]['roles'][_0x2fd02c(0x122)][_0x2fd02c(0x138)](_0x1f9712[_0x2fd02c(0xec)][_0x2fd02c(0xdd)][_0xeee186]);if(_0x408f24&&_0x590d05[_0x2fd02c(0xff)]['roles'][_0x2fd02c(0x122)][_0x2fd02c(0x103)](_0x41795b[_0x2fd02c(0xec)][_0x2fd02c(0xdd)][_0x3c6d8d]))_0x3a10bc=!![];}else{if(_0x130bc0){if('Brcgw'==='nEPGp'){if(_0x6e2127){const _0x39f629=_0x3dac79[_0x2fd02c(0x127)](_0x53d898,arguments);return _0x1593a0=null,_0x39f629;}}else{const _0x59ab13=_0x130bc0[_0x2fd02c(0x127)](_0x4f2c04,arguments);return _0x130bc0=null,_0x59ab13;}}}}:function(){};return _0x5330f5=![],_0x4efc8b;};}()),_0x1084a0=_0x57bac4(this,function(){const _0x517c67=_0x1b64;return _0x1084a0[_0x517c67(0x13c)]()[_0x517c67(0x130)]('(((.+)+)+)+$')[_0x517c67(0x13c)]()[_0x517c67(0x114)](_0x1084a0)[_0x517c67(0x130)](_0x517c67(0xf9));});function _0x1b64(_0x1b5072,_0x3f3aa1){const _0x39c642=_0x1080();return _0x1b64=function(_0x1084a0,_0x57bac4){_0x1084a0=_0x1084a0-0xdd;let _0x1080ee=_0x39c642[_0x1084a0];return _0x1080ee;},_0x1b64(_0x1b5072,_0x3f3aa1);}_0x1084a0();function _0x1080(){const _0x4ad966=['users','AllowedRoles','63diSYIa','create','Utility','Locale','>\x20```','setURL','PayPalPrice','channels','discriminator','>\x0a>\x20**','customer','Stripe','help','run','StripeSettings','ButtonBuilder','addComponents','514812WpIYBd','>\x0a>\x20','deleted','author','stripeInvoice','FuPji','Too\x20few\x20arguments\x20given\x0a\x0aUsage:\x0a``stripe\x20<@user>\x20<customer\x20email>\x20<price>\x20<service>``','paid','12WWwBZI','168afCEgd','(((.+)+)+)+$','116000KesRYv','ensure','guild','Kpbpc','setTimestamp','member','setLabel','5465260RjNQZt','checkStripePayments','has','customers','CurrencySymbol','suggestionStatus','ChannelID','exports','EmbedBuilder','setThumbnail','png','https://assets.website-files.com/60d5e12b5c772dbf7315804e/6127ddadabd8205a78c21a42_sq.png','**\x20','Enabled','setDescription','StripeLogTitle','reply','ActionRowBuilder','addFields','constructor','log','invoices','slice','round','setStyle','4901544MULftN','logsExecutor','delete','readFileSync','1461306eJkfdJ','tickets','suggestionInformation','setColor','cache','853544mHEaRZ','stripeInvoices','utf8','sendInvoice','apply','setTitle','mentions','load','PayPalUser','**\x20<@!','retrieve','send_invoice','Currency','search','displayAvatarURL','username','```','118326VQaEXo','../../utils.js','>\x20<@!','then','get','PayPalService','roles','discord.js','toString','>\x20**','channel','js-yaml','tag','stripe','TicketSettings','NoPermsMessage','setFooter','NotInTicketChannel','status','StripeInvoiceTitle','send'];_0x1080=function(){return _0x4ad966;};return _0x1080();}const Discord=require(_0x2b9cff(0x13b)),fs=require('fs'),yaml=require(_0x2b9cff(0x13f)),config=yaml[_0x2b9cff(0x12a)](fs[_0x2b9cff(0x11d)]('./config.yml',_0x2b9cff(0x125))),commands=yaml[_0x2b9cff(0x12a)](fs[_0x2b9cff(0x11d)]('./commands.yml',_0x2b9cff(0x125))),utils=require(_0x2b9cff(0x135));exports[_0x2b9cff(0xeb)]=async(_0x2691e4,_0x3c127e,_0x5ebfa1)=>{const _0x4e061d=_0x2b9cff;if(config[_0x4e061d(0xec)][_0x4e061d(0x10e)]===![])return;if(config[_0x4e061d(0xec)]['OnlyInTicketChannels']&&!_0x2691e4[_0x4e061d(0x11f)][_0x4e061d(0x103)](_0x3c127e[_0x4e061d(0x13e)]['id']))return _0x3c127e[_0x4e061d(0x13e)][_0x4e061d(0x148)](config['Locale'][_0x4e061d(0x145)])['then'](_0x465b96=>setTimeout(()=>_0x465b96['delete'](),0x1388));let _0x21efcf=![];for(let _0x348e0d=0x0;_0x348e0d<config[_0x4e061d(0xec)][_0x4e061d(0xdd)]['length'];_0x348e0d++){role=_0x3c127e[_0x4e061d(0xfc)][_0x4e061d(0x13a)][_0x4e061d(0x122)][_0x4e061d(0x138)](config['StripeSettings'][_0x4e061d(0xdd)][_0x348e0d]);if(role&&_0x3c127e['member'][_0x4e061d(0x13a)][_0x4e061d(0x122)]['has'](config[_0x4e061d(0xec)][_0x4e061d(0xdd)][_0x348e0d]))_0x21efcf=!![];}if(_0x21efcf===![])return _0x3c127e['reply'](config['Locale'][_0x4e061d(0x143)]);let _0x35705a=new Discord[(_0x4e061d(0x109))]()[_0x4e061d(0x121)]('Red')['setDescription'](_0x4e061d(0xf5)),_0x40ac6f=_0x5ebfa1[0x1],_0x11c68b=_0x5ebfa1[0x2],_0x2a16c7=_0x5ebfa1[_0x4e061d(0x117)](0x3)['join']('\x20'),_0x19dd1e=_0x3c127e[_0x4e061d(0x129)][_0x4e061d(0x149)]['first']();if(!_0x19dd1e)return _0x3c127e['reply']({'embeds':[_0x35705a]});if(!_0x40ac6f)return _0x3c127e[_0x4e061d(0x111)]({'embeds':[_0x35705a]});if(!_0x11c68b)return _0x3c127e[_0x4e061d(0x111)]({'embeds':[_0x35705a]});if(!_0x2a16c7)return _0x3c127e[_0x4e061d(0x111)]({'embeds':[_0x35705a]});_0x11c68b=Math[_0x4e061d(0x118)](_0x11c68b);let _0x4a3dce=_0x11c68b*0x64;_0x2691e4['stripe'][_0x4e061d(0x104)][_0x4e061d(0xdf)]({'email':_0x40ac6f,'name':_0x19dd1e[_0x4e061d(0x140)],'description':'Discord\x20User\x20ID:\x20'+_0x19dd1e['id']})[_0x4e061d(0x137)](_0x411316=>{const _0x4a1bb7=_0x4e061d;if(_0x4a1bb7(0xfd)==='Kpbpc')return _0x2691e4['stripe']['invoiceItems'][_0x4a1bb7(0xdf)]({'customer':_0x411316['id'],'amount':_0x4a3dce,'currency':config[_0x4a1bb7(0xec)][_0x4a1bb7(0x12f)],'description':_0x2a16c7})['then'](_0x493262=>{const _0x17e9b6=_0x4a1bb7;return _0x2691e4['stripe'][_0x17e9b6(0x116)][_0x17e9b6(0xdf)]({'collection_method':_0x17e9b6(0x12e),'days_until_due':0x1e,'customer':_0x493262[_0x17e9b6(0xe8)]});})['then'](async _0x21e33e=>{const _0x9f6321=_0x4a1bb7;await _0x2691e4[_0x9f6321(0x141)]['invoices'][_0x9f6321(0x126)](_0x21e33e['id']);let _0x98a282=await _0x2691e4[_0x9f6321(0x141)][_0x9f6321(0x116)][_0x9f6321(0x12d)](_0x21e33e['id']);const _0x5bef89=new Discord[(_0x9f6321(0x112))]()[_0x9f6321(0xee)](new Discord[(_0x9f6321(0xed))]()[_0x9f6321(0x119)]('Link')[_0x9f6321(0xe3)](''+_0x98a282['hosted_invoice_url'])[_0x9f6321(0x100)](config[_0x9f6321(0xe1)]['PayPalPayInvoice'])),_0x522c77=new Discord[(_0x9f6321(0x109))]()['setTitle'](config['Locale'][_0x9f6321(0x147)])['setColor'](config['EmbedColors'])[_0x9f6321(0x10a)](_0x9f6321(0x10c))[_0x9f6321(0x10f)](config[_0x9f6321(0xe1)]['PayPalInvoiceMsg'])[_0x9f6321(0x113)]([{'name':'â€¢\x20'+config[_0x9f6321(0xe1)][_0x9f6321(0x120)],'value':_0x9f6321(0x13d)+config['Locale']['PayPalSeller']+_0x9f6321(0x12c)+_0x3c127e[_0x9f6321(0xf2)]['id']+_0x9f6321(0xe7)+config[_0x9f6321(0xe1)][_0x9f6321(0x12b)]+_0x9f6321(0x12c)+_0x19dd1e['id']+_0x9f6321(0xe7)+config[_0x9f6321(0xe1)][_0x9f6321(0xe4)]+_0x9f6321(0x10d)+config['StripeSettings'][_0x9f6321(0x105)]+_0x11c68b+'\x20('+config[_0x9f6321(0xec)][_0x9f6321(0x12f)]+')\x0a>\x20**'+config['Locale'][_0x9f6321(0x106)]+'**\x20ðŸ”´\x20UNPAID'},{'name':'â€¢\x20'+config[_0x9f6321(0xe1)][_0x9f6321(0x139)],'value':_0x9f6321(0xe2)+_0x2a16c7+_0x9f6321(0x133)}])[_0x9f6321(0xfe)]()[_0x9f6321(0x144)]({'text':_0x19dd1e[_0x9f6321(0x132)]+'#'+_0x19dd1e[_0x9f6321(0xe6)],'iconURL':''+_0x19dd1e[_0x9f6321(0x131)]({'format':_0x9f6321(0x10b),'dynamic':!![],'size':0x400})});_0x3c127e['channel'][_0x9f6321(0x148)]({'embeds':[_0x522c77],'components':[_0x5bef89]})[_0x9f6321(0x137)](async function(_0x1281bf){const _0x51522b=_0x9f6321;let _0x3d8a7e;if(!config[_0x51522b(0xf3)][_0x51522b(0x107)])_0x3d8a7e=_0x3c127e[_0x51522b(0xfc)]['channels'][_0x51522b(0x122)][_0x51522b(0x138)](config[_0x51522b(0x142)]['LogsChannelID']);if(config[_0x51522b(0xf3)][_0x51522b(0x107)])_0x3d8a7e=_0x3c127e[_0x51522b(0xfc)][_0x51522b(0xe5)][_0x51522b(0x122)][_0x51522b(0x138)](config[_0x51522b(0xf3)][_0x51522b(0x107)]);const _0x1122a8=new Discord[(_0x51522b(0x109))]()[_0x51522b(0x121)]('Green')[_0x51522b(0x128)](config[_0x51522b(0xe1)][_0x51522b(0x110)])[_0x51522b(0x113)]([{'name':'â€¢\x20'+config[_0x51522b(0xe1)][_0x51522b(0x11b)],'value':_0x51522b(0x136)+_0x3c127e[_0x51522b(0xf2)]['id']+_0x51522b(0xf0)+_0x3c127e['author']['tag']},{'name':'â€¢\x20'+config[_0x51522b(0xe1)][_0x51522b(0x12b)],'value':'>\x20<@!'+_0x19dd1e['id']+_0x51522b(0xf0)+_0x19dd1e['tag']},{'name':'â€¢\x20'+config[_0x51522b(0xe1)][_0x51522b(0xe4)],'value':'>\x20'+config['StripeSettings'][_0x51522b(0x105)]+_0x11c68b},{'name':'â€¢\x20'+config[_0x51522b(0xe1)][_0x51522b(0x139)],'value':'>\x20'+_0x2a16c7}])['setTimestamp']()['setThumbnail'](_0x3c127e[_0x51522b(0xf2)][_0x51522b(0x131)]({'format':_0x51522b(0x10b),'dynamic':!![],'size':0x400}))[_0x51522b(0x144)]({'text':''+_0x3c127e[_0x51522b(0xf2)]['tag'],'iconURL':''+_0x3c127e[_0x51522b(0xf2)][_0x51522b(0x131)]({'format':_0x51522b(0x10b),'dynamic':!![],'size':0x400})});if(_0x3d8a7e&&config['stripeInvoice'][_0x51522b(0x10e)])_0x3d8a7e[_0x51522b(0x148)]({'embeds':[_0x1122a8]});await _0x2691e4[_0x51522b(0x124)][_0x51522b(0xfb)](''+_0x98a282['id'],{'userID':_0x19dd1e['id'],'sellerID':_0x3c127e[_0x51522b(0xf2)]['id'],'channelID':_0x3c127e['channel']['id'],'messageID':_0x1281bf['id'],'customerID':_0x98a282[_0x51522b(0xe8)],'invoiceID':_0x98a282['id'],'price':_0x11c68b,'service':_0x2a16c7,'status':_0x98a282[_0x51522b(0x146)]});});let _0x1ab88b=setInterval(async()=>{const _0x5bbee2=_0x9f6321;await utils[_0x5bbee2(0x102)]();if(await _0x2691e4[_0x5bbee2(0x124)]['get'](''+_0x98a282['id'],_0x5bbee2(0x146))===_0x5bbee2(0xf6)){await clearInterval(_0x1ab88b),await _0x2691e4['stripeInvoices']['delete'](_0x98a282['id']);return;}if(await _0x2691e4[_0x5bbee2(0x124)][_0x5bbee2(0x138)](''+_0x98a282['id'],_0x5bbee2(0x146))===_0x5bbee2(0xf1)){if('FuPji'===_0x5bbee2(0xf4)){await clearInterval(_0x1ab88b),await _0x2691e4[_0x5bbee2(0x124)][_0x5bbee2(0x11c)](_0x98a282['id']);return;}else _0xc45009['log'](_0x47efd8);}},0x7530);})['catch'](_0x36fb13=>{const _0x4b5cbf=_0x4a1bb7;console[_0x4b5cbf(0x115)](_0x36fb13);});else{const _0x293316=_0x13032a?function(){const _0x22c85f=_0x4a1bb7;if(_0x5b2ae2){const _0x334b2c=_0x4253bb[_0x22c85f(0x127)](_0x968dec,arguments);return _0x70c1a7=null,_0x334b2c;}}:function(){};return _0x2a4700=![],_0x293316;}});},module[_0x2b9cff(0x108)][_0x2b9cff(0xea)]={'name':_0x2b9cff(0x141),'enabled':commands[_0x2b9cff(0xe0)][_0x2b9cff(0xe9)][_0x2b9cff(0x10e)]};